<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—°êµ¬ ì°¸ì—¬ ë™ì˜ì„œ (Informed Consent)</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .consent-container {
            background: white;
            max-width: 700px;
            width: 100%;
            border-radius: 12px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: #173b6b;
            padding: 24px 30px;
            color: white;
        }
        
        .header h1 {
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 4px;
        }
        
        .header p {
            font-size: 16px;
            opacity: 0.95;
        }

        .institution {
            font-size: 12px;
            opacity: 0.9;
            margin-bottom: 6px;
        }
        .meta {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            font-size: 12px;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 30px;
        }
        
        .section h2 {
            font-size: 20px;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #f0f0f0;
        }
        
        .section p, .section li {
            font-size: 15px;
            line-height: 1.6;
            color: #555;
            margin-bottom: 12px;
        }
        
        .section ul {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        .highlight-box {
            background: #f8f9ff;
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .highlight-box h3 {
            color: #346aff;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .consent-checkboxes {
            background: #f8f9ff;
            border-radius: 8px;
            padding: 25px;
            margin: 25px 0;
        }
        
        .checkbox-item {
            display: flex;
            align-items: flex-start;
            margin-bottom: 18px;
            padding: 15px;
            background: white;
            border-radius: 6px;
            border: 1px solid #e5e7eb;
        }
        
        .checkbox-item:last-child {
            margin-bottom: 0;
        }
        
        .checkbox-item input[type="checkbox"] {
            margin-right: 12px;
            margin-top: 3px;
            transform: scale(1.2);
        }
        
        .checkbox-item label {
            font-size: 14px;
            line-height: 1.5;
            color: #333;
            cursor: pointer;
            flex: 1;
        }
        
        .error-message {
            background: #fee;
            color: #c33;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            border: 1px solid #fcc;
            font-size: 14px;
        }
        
        .ack-box {
            background: #fffdf5;
            border: 1px solid #f1e3b0;
            padding: 16px;
            border-radius: 8px;
            margin: 16px 0;
            font-size: 13px;
            color: #6b5b00;
        }

        .button-container {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 30px;
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }
        
        .btn-primary {
            background: #346aff;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2c5dff;
            transform: translateY(-1px);
        }
        
        .btn-primary:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        .btn-secondary {
            background: #f8f9fa;
            color: #666;
            border: 1px solid #ddd;
        }
        
        .btn-secondary:hover {
            background: #e9ecef;
        }
        
        .footer {
            text-align: center;
            padding: 20px;
            background: #f8f9fa;
            font-size: 12px;
            color: #666;
        }
    </style>
</head>
<body>
    <div class="consent-container">
        <div class="header">
            <div class="institution">í•œêµ­ì™¸êµ­ì–´ëŒ€í•™êµ ë¯¸ë””ì–´ì»¤ë®¤ë‹ˆì¼€ì´ì…˜í•™ë¶€ â€˜ì•Œê³ ë¦¬ì¦˜ë¯¸ë””ì–´ì™€ ì‚¬íšŒâ€™ ìˆ˜ì—… (7ì¡°)</div>
            <h1>ì—°êµ¬ ì°¸ì—¬ ë™ì˜ì„œ (Informed Consent)</h1>
            <p>ì œíœ´ ë¸Œëœë“œ ì¤‘ì‹¬ ì¶”ì²œì‹œìŠ¤í…œì— ëŒ€í•œ ì†Œë¹„ì ë°˜ì‘ ë¶„ì„</p>
            <div class="meta" style="margin-top:10px;">
                <div><strong>ì£¼ì—°êµ¬ì±…ì„ì(PI):</strong> ì´ìƒìš± êµìˆ˜ (ì§€ë„êµìˆ˜)</div>
                <div><strong>ì—°êµ¬ ë‹´ë‹¹ì:</strong> ì¡°í˜„í•œ (ê°œë°œÂ·ì—°êµ¬ ë‹´ë‹¹, 010-5779-1297, hyeonhanjo1@gmail.com)</div>
                <div><strong>ì—°êµ¬ êµ¬ë¶„:</strong> ì‚¬íšŒê³¼í•™ ì—°êµ¬ (ìˆ˜ì—… ê³¼ì œ)</div>
            </div>
        </div>
        
        <div class="content">
            {% if error %}
            <div class="error-message">
                {{ error }}
            </div>
            {% endif %}
            
            <div class="section">
                <h2>1. ì—°êµ¬ ê°œìš”</h2>
                <p>ë³¸ ì—°êµ¬ëŠ” ì˜¨ë¼ì¸ ì‡¼í•‘ í™˜ê²½ì—ì„œ AI ì¶”ì²œì‹œìŠ¤í…œ(ì˜ˆ: â€œë‹¹ì‹ ì˜ ì·¨í–¥ì„ ê¸°ë°˜ìœ¼ë¡œ ì¶”ì²œí•©ë‹ˆë‹¤â€)ì´ ì†Œë¹„ìì˜ ì„ íƒ, ì‹ ë¢° ë° ë§Œì¡±ë„ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ì¡°ì‚¬í•©ë‹ˆë‹¤. ì°¸ì—¬ìëŠ” ì‹¤í—˜ìš© ì‡¼í•‘ í˜ì´ì§€ë¥¼ ì´ìš©í•˜ì—¬ ìƒí’ˆ íƒìƒ‰ê³¼ ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°, ì¶”ì²œ í™•ì¸, ê°„ë‹¨í•œ ì„¤ë¬¸ì„ ì§„í–‰í•©ë‹ˆë‹¤.</p>
                <div class="highlight-box">
                    <h3>ì—°êµ¬ ëª©ì </h3>
                    <p>ì œíœ´ ë¸Œëœë“œ ì¤‘ì‹¬ìœ¼ë¡œ í‘œì‹œë˜ëŠ” ì¶”ì²œì´ ì‚¬ìš©ìì˜ ì¸ì§€ ë° ì„ íƒ í–‰ë™ì— ë¯¸ì¹˜ëŠ” ì˜í–¥ì„ ë¶„ì„í•˜ì—¬ íˆ¬ëª…í•˜ê³  ê³µì •í•œ ì¶”ì²œ ì²´ê³„ë¥¼ ì„¤ê³„í•˜ëŠ” ë° ê¸°ì—¬í•©ë‹ˆë‹¤.</p>
                </div>
            </div>
            
            <div class="section">
                <h2>2. ì°¸ì—¬ ì ˆì°¨ ë° ì†Œìš”ì‹œê°„</h2>
                <ul>
                    <li><strong>ì ˆì°¨:</strong> ë™ì˜ì„œ í™•ì¸ â†’ ìƒí’ˆ íƒìƒ‰/ì¥ë°”êµ¬ë‹ˆ â†’ ì¶”ì²œ í™•ì¸ â†’ ì„ íƒ â†’ ì„¤ë¬¸</li>
                    <li><strong>ì†Œìš”ì‹œê°„:</strong> ì•½ 10â€“15ë¶„</li>
                </ul>
            </div>
            
            <div class="section">
                <h2>3. ê°œì¸ì •ë³´ ë° ë°ì´í„° ë³´ì•ˆ</h2>
                <ul>
                    <li>ê°œì¸ ì‹ë³„ ì •ë³´ëŠ” ìˆ˜ì§‘í•˜ì§€ ì•Šìœ¼ë©°, ëª¨ë“  ë°ì´í„°ëŠ” ìµëª… ë˜ëŠ” ê°€ëª… ì²˜ë¦¬ë©ë‹ˆë‹¤.</li>
                    <li>ì—°êµ¬ ë°ì´í„°ëŠ” ì•”í˜¸í™”ëœ ì €ì¥ì†Œì— ë³´ê´€ë˜ë©°, ì—°êµ¬íŒ€ ì™¸ ì ‘ê·¼ì´ ì œí•œë©ë‹ˆë‹¤.</li>
                    <li>ë³´ê´€ê¸°ê°„ì€ ì—°êµ¬ ì¢…ë£Œ í›„ ìµœëŒ€ 3ë…„ì´ë©°, ì´í›„ ì•ˆì „í•˜ê²Œ íŒŒê¸°ë©ë‹ˆë‹¤.</li>
                    <li>ë°ì´í„°ëŠ” í•™ìˆ  ëª©ì (ë…¼ë¬¸/í•™íšŒ ë°œí‘œ)ì—ë§Œ ì‚¬ìš©ë©ë‹ˆë‹¤.</li>
                </ul>
            </div>
            
            <div class="section">
                <h2>4. ìˆ˜ì§‘ë˜ëŠ” ì •ë³´ì˜ ì¢…ë¥˜</h2>
                <ul>
                    <li>í–‰ë™ ë°ì´í„°: í´ë¦­/ì¡°íšŒ/ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°/ì¶”ì²œ ì„ íƒ ë“± ìƒí˜¸ì‘ìš© ë¡œê·¸</li>
                    <li>ì‹œê°„ ë°ì´í„°: ì„ íƒ ì†Œìš”ì‹œê°„, í™”ë©´ ì²´ë¥˜ì‹œê°„</li>
                    <li>ì„¤ë¬¸ ë°ì´í„°: ë§Œì¡±ë„, ì‹ ë¢°ë„, êµ¬ë§¤ ì˜í–¥, ì£¼ê´€ì‹ ì˜ê²¬</li>
                    <li>ì¸êµ¬í†µê³„: ì—°ë ¹ëŒ€, ì˜¨ë¼ì¸ ì‡¼í•‘ ë¹ˆë„(ì„ íƒ ì…ë ¥)</li>
                </ul>
            </div>

            <div class="section">
                <h2>5. ìœ„í—˜/ì´ìµ ë° ë³´ìƒ</h2>
                <ul>
                    <li>ì˜ˆìƒë˜ëŠ” ìœ„í—˜ì€ ì¼ìƒì  ì˜¨ë¼ì¸ ì‡¼í•‘ê³¼ ìœ ì‚¬í•œ ìˆ˜ì¤€ì´ë©°, ë¯¼ê°ì •ë³´ëŠ” ìˆ˜ì§‘í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.</li>
                    <li>ì§ì ‘ì  ì´ìµì€ ì—†ìœ¼ë‚˜, ê³µì •í•œ ì¶”ì²œì‹œìŠ¤í…œ ì„¤ê³„ì— ê¸°ì—¬í•˜ê²Œ ë©ë‹ˆë‹¤.</li>
                    <li>ë³´ìƒ(ìˆì„ ê²½ìš°): ìŠ¤íƒ€ë²…ìŠ¤ e-ê¸°í”„í‹°ì½˜ 3,000ì›ê¶Œ (ì„ ì°©ìˆœ 50ëª…)</li>
                </ul>
            </div>

            <div class="section">
                <h2>6. ìë°œì  ì°¸ì—¬ ë° ì¤‘ë„ ì² íšŒ</h2>
                <p>ì°¸ì—¬ëŠ” ì „ì ìœ¼ë¡œ ìë°œì ì´ë©°, ì´ìœ ë¥¼ ë¬»ì§€ ì•Šê³  ì–¸ì œë“ ì§€ ì¤‘ë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì¤‘ë‹¨ ì‹œ ë¶ˆì´ìµì€ ì—†ìŠµë‹ˆë‹¤.</p>
            </div>

            <div class="section">
                <h2>7. ë¬¸ì˜ì²˜</h2>
                <ul>
                    <li>ì—°êµ¬ ë‹´ë‹¹ì: ì¡°í˜„í•œ (ê°œë°œì) â€” 010-5779-1297, hyeonhanjo1@gmail.com</li>
                    <li>ì§€ë„êµìˆ˜: ì´ìƒìš± êµìˆ˜ â€” í•œêµ­ì™¸êµ­ì–´ëŒ€í•™êµ ë¯¸ë””ì–´ì»¤ë®¤ë‹ˆì¼€ì´ì…˜í•™ë¶€</li>
                </ul>
            </div>
            
            <form method="post">
                {% csrf_token %}
                <div class="section" style="margin-top:-10px;">
                    <h2>ì°¸ì—¬ì ê¸°ë³¸ ì •ë³´</h2>
                    <div class="highlight-box">
                        <p style="margin-bottom:10px; font-size:14px; color:#555;">ì—°êµ¬ ì§„í–‰ ë° ë³´ìƒ(í•´ë‹¹ ì‹œ) ì „ë‹¬ì„ ìœ„í•´ ì•„ë˜ ì •ë³´ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”. ìˆ˜ì§‘ëœ ì •ë³´ëŠ” ì—°êµ¬ ì¢…ë£Œ í›„ íŒŒê¸°í•©ë‹ˆë‹¤.</p>
                        <div style="display:grid; grid-template-columns:1fr 1fr; gap:12px;">
                            <div>
                                <label for="name" style="font-size:13px; color:#333;">ì´ë¦„</label>
                                <input type="text" id="name" name="name" required placeholder="í™ê¸¸ë™" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:6px;">
                            </div>
                            <div>
                                <label for="student_id" style="font-size:13px; color:#333;">í•™ë²ˆ</label>
                                <input type="text" id="student_id" name="student_id" required placeholder="2025xxxx" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:6px;">
                            </div>
                            <div>
                                <label for="phone" style="font-size:13px; color:#333;">ì „í™”ë²ˆí˜¸</label>
                                <input type="tel" id="phone" name="phone" required placeholder="010-0000-0000" pattern="^0\d{1,2}-\d{3,4}-\d{4}$" style="width:100%; padding:10px; border:1px solid #ddd; border-radius:6px;">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="consent-checkboxes">
                    <div class="checkbox-item">
                        <input type="checkbox" id="consent_research" name="consent_research">
                        <label for="consent_research">
                            <strong>ì—°êµ¬ ì°¸ì—¬ ë™ì˜</strong><br>
                            ìœ„ ì„¤ëª…ì„œë¥¼ ì¶©ë¶„íˆ ì½ì—ˆìœ¼ë©° ì§ˆë¬¸í•  ê¸°íšŒë¥¼ ê°€ì¡ŒìŠµë‹ˆë‹¤. ë³¸ì¸ì€ ì—°êµ¬ ëª©ì ê³¼ ì ˆì°¨ë¥¼ ì´í•´í•˜ì˜€ê³ , ìë°œì ìœ¼ë¡œ ì°¸ì—¬í•¨ì— ë™ì˜í•©ë‹ˆë‹¤.
                        </label>
                    </div>
                    
                    <div class="checkbox-item">
                        <input type="checkbox" id="consent_data" name="consent_data">
                        <label for="consent_data">
                            <strong>ë°ì´í„° ìˆ˜ì§‘/ì´ìš© ë™ì˜</strong><br>
                            ë³¸ì¸ì€ ìµëª…í™”ëœ í–‰ë™/ì„¤ë¬¸ ë°ì´í„°ë¥¼ í•™ìˆ  ëª©ì ìœ¼ë¡œ ìˆ˜ì§‘Â·ë¶„ì„Â·í™œìš©í•˜ëŠ” ê²ƒì— ë™ì˜í•©ë‹ˆë‹¤.
                        </label>
                    </div>
                    
                    <div class="checkbox-item">
                        <input type="checkbox" id="consent_participation" name="consent_participation">
                        <label for="consent_participation">
                            <strong>ì°¸ì—¬ ì¡°ê±´ í™•ì¸</strong><br>
                            ë³¸ì¸ì€ ë§Œ 19ì„¸ ì´ìƒì´ë©°, ì˜¨ë¼ì¸ ì‡¼í•‘ ê²½í—˜ì´ ìˆìŒì„ í™•ì¸í•©ë‹ˆë‹¤. ì–¸ì œë“  ì°¸ì—¬ë¥¼ ì¤‘ë‹¨í•  ìˆ˜ ìˆìŒì„ ì´í•´í•©ë‹ˆë‹¤.
                        </label>
                    </div>
                </div>
                
                <div class="ack-box">
                    ë³¸ ë²„íŠ¼ì„ í´ë¦­í•¨ìœ¼ë¡œì¨ ìƒê¸°ì˜ ë‚´ìš©ì„ ì´í•´í•˜ê³  ìë°œì ìœ¼ë¡œ ì—°êµ¬ì— ì°¸ì—¬í•¨ì— ë™ì˜í•©ë‹ˆë‹¤. ì‚¬ë³¸ì´ í•„ìš”í•˜ì‹œë©´ ì•„ë˜ ì¸ì‡„/ë‹¤ìš´ë¡œë“œ ë²„íŠ¼ì„ ì´ìš©í•˜ì‹­ì‹œì˜¤.
                </div>

                <div class="button-container">
                    <button type="submit" class="btn btn-primary" id="agreeBtn" disabled>
                        ë™ì˜í•˜ê³  ì‹¤í—˜ ì‹œì‘í•˜ê¸° ğŸš€
                    </button>
                    <button type="button" class="btn btn-secondary" onclick="window.print()">ì¸ì‡„</button>
                    <a class="btn btn-secondary" href="data:text/plain;charset=utf-8,{{ 'ì—°êµ¬ ì°¸ì—¬ ë™ì˜ì„œ'|urlencode }}" download="consent.txt">ë‹¤ìš´ë¡œë“œ</a>
                </div>
            </form>
        </div>
        
        <div class="footer">
            <p>ë³¸ ì—°êµ¬ëŠ” í•œêµ­ì™¸êµ­ì–´ëŒ€í•™êµ ë¯¸ë””ì–´ì»¤ë®¤ë‹ˆì¼€ì´ì…˜í•™ë¶€ â€˜ì•Œê³ ë¦¬ì¦˜ë¯¸ë””ì–´ì™€ ì‚¬íšŒâ€™ ìˆ˜ì—…ì˜ í•™ìŠµ ëª©ì  ì‚¬íšŒê³¼í•™ ì—°êµ¬ì…ë‹ˆë‹¤.</p>
        </div>
    </div>
    
    <script>
        // ëª¨ë“  ì²´í¬ë°•ìŠ¤ + í•„ìˆ˜ ì…ë ¥ê°’ì´ ìœ íš¨í•  ë•Œë§Œ ë™ì˜ ë²„íŠ¼ í™œì„±í™”
        const checkboxes = document.querySelectorAll('.consent-checkboxes input[type="checkbox"]');
        const agreeBtn = document.getElementById('agreeBtn');
        const nameInput = document.getElementById('name');
        const studentInput = document.getElementById('student_id');
        const phoneInput = document.getElementById('phone');

        function validInputs() {
            const nameOk = nameInput && nameInput.value.trim().length > 0;
            const sidOk = studentInput && studentInput.value.trim().length > 0;
            const phoneOk = phoneInput && phoneInput.checkValidity();
            return nameOk && sidOk && phoneOk;
        }

        function updateButtonState() {
            const allChecked = Array.from(checkboxes).every(cb => cb.checked);
            agreeBtn.disabled = !(allChecked && validInputs());
        }

        [...checkboxes, nameInput, studentInput, phoneInput].forEach(el => {
            if (el) el.addEventListener('input', updateButtonState);
            if (el) el.addEventListener('change', updateButtonState);
        });
    </script>
</body>
</html>